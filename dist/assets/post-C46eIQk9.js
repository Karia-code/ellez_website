import"./style-_FeZC0s8.js";import{q as i,c,d,w as l,l as p,g as u}from"./firebase-DWVmYYlG.js";function m(){const o=location.pathname,e="/updates/";if(o.startsWith(e))return decodeURIComponent(o.substring(e.length));const t=new URL(location.href).searchParams.get("slug");return t?decodeURIComponent(t):""}function s(o,e){const n=document.getElementById(o);n&&(n.textContent=e||"")}function f({lang:o,dateStr:e,category:n}){const t=document.getElementById("post-meta");if(!t)return;const a=[];o&&a.push(`[${o.toUpperCase()}]`),e&&a.push(e),n&&a.push(n),t.textContent=a.join(" • ")}async function r(){const o=m();if(!o){s("post-title","Post not found"),s("post-content","Invalid URL.");return}try{const e=i(c(d,"updates"),l("slug","==",o),p(1)),n=await u(e);if(n.empty){s("post-title","Post not found"),s("post-content","This update may have been removed or the link is incorrect.");return}const t=n.docs[0].data();s("post-title",t.title||"Untitled"),s("post-content",t.content||""),f({lang:t.lang,dateStr:t.dateStr,category:t.category}),document.title=`ELLEZ – ${t.title||"Update"}`}catch(e){console.error("Failed to load post:",e),s("post-title","Error loading post"),s("post-content","Please try again later.")}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",r):r();
